<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fjyt.asset.management.mapper.OutboundMapper">

    <select id="getOutboundList" parameterType="com.fjyt.asset.management.POJO.DTO.OutboundQueryDTO" resultType="com.fjyt.asset.management.POJO.VO.OutboundVO">
        select
        o.id,o.outbound_code,o.asset_codes,o.outbound_time,o.create_user,
        o.create_time,o.update_user,o.update_time
        from outbound o
        <where>
            o.outbound_del = '0'
            <if test="outboundCode != null and outboundCode != ''">
                o.outbound_code = #{outboundCode}
            </if>
        </where>
    </select>
    
    <select id="getOutboundDetail" parameterType="Long" resultType="com.fjyt.asset.management.POJO.VO.OutboundDetailVO">
        select
            o.id,o.outbound_code,o.asset_codes,o.outbound_time,o.create_user,
            o.create_time
        from outbound o
        where o.outbound_del = '0'
        and o.id = #{id}
    </select>

    <insert id="addOutbound" parameterType="com.fjyt.asset.management.POJO.DO.AssetOutbound">
        insert into outbound
        (
         <if test="outboundCode != null and outboundCode != ''">outbound_code,</if>
        <if test="assetCodes != null and assetCodes != ''">asset_codes,</if>
        <if test="outboundTime != null">outbound_time,</if>
        <if test="createUser != null and createUser != ''">create_user,</if>
        <if test="createTime != null">create_time,</if>
        <if test="updateUser != null and updateUser != ''">update_user,</if>
         update_time
        )
        values
        (
        <if test="outboundCode != null and outboundCode != ''">#{outboundCode},</if>
        <if test="assetCodes != null and assetCodes != ''">#{assetCodes},</if>
        <if test="outboundTime != null">#{outboundTime},</if>
        <if test="createUser != null and createUser != ''">#{createUser},</if>
        <if test="createTime != null">#{createTime},</if>
        <if test="updateUser != null and updateUser != ''">#{updateUser},</if>
         #{updateTime}
        )
    </insert>
</mapper>